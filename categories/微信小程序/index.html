<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=11,IE=10,IE=9,IE=8" >
    <meta name="baidu-site-verification" content="dIcXMeY8Ya" />
    
    <title>`微信小程序`分类下的文章 | xiaoLv</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" >
    <meta name="keywords" content="Jelon, 前端, Web, 张德龙, 前端开发" >
    <meta name="description" content="Jelon个人前端小站" >

    
    <link rel="alternative" href="/atom.xml" title="xiaoLv" type="application/atom+xml" >
    
    
    <link rel="shortcut icon" href="/favicon.ico" >
    
    <link rel="stylesheet" href="/css/style.css">
    <!--[if lt IE 9]>
    <script src="/js/html5.js"></script>
    <![endif]-->
    
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?fd459238242776d173cdc64918fb32f2";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>


</head>

<body class="home">
    <!--[if lt IE 9]>
    <div class="browsehappy">
        当前网页 <strong>不支持</strong>
        你正在使用的浏览器. 为了正常的访问, 请 <a href="http://browsehappy.com/">升级你的浏览器</a>.
    </div>
    <![endif]-->

    <!-- 博客头部 -->
    <header class="header">
    <section class="container header-main">
        <div class="logo">
            <a href="/">
                <div class="cover">
                    <span class="name">xiaoLv</span>
                    <span class="description">记录学习的技能和遇到的问题</span>
                </div>
            </a>
        </div>
        <div class="dropnav icon-paragraph-justify" id="JELON__btnDropNav"></div>
        <ul class="menu hidden" id="JELON__menu">
            
            <li rel="/categories/微信小程序/index.html" class="item ">
                <a href="/" title="首页" class="icon-home">&nbsp;首页</a>
            </li>
            
            <li rel="/categories/微信小程序/index.html" class="item ">
                <a href="/lab/" title="实验室" class="icon-lab">&nbsp;实验室</a>
            </li>
            
            <li rel="/categories/微信小程序/index.html" class="item ">
                <a href="/about/" title="关于" class="icon-about">&nbsp;关于</a>
            </li>
            
            <li rel="/categories/微信小程序/index.html" class="item ">
                <a href="/comment/" title="留言" class="icon-comment">&nbsp;留言</a>
            </li>
            
        </ul>
        <div class="profile clearfix">
            <div class="feeds fl">
                
                
                <p class="links">
                    
                        <a href="https://github.com/jangdelong" target="_blank">Github</a>
                        |
                    
                        <a href="https://pages.coding.me" target="_blank">Hosted by Coding Pages</a>
                        
                    
                </p>
                <p class="sns">
                    
                        <a href="http://weibo.com/jangdelong" class="sinaweibo" target="_blank"><b>■</b> 新浪微博</a>
                    
                        <a href="https://www.facebook.com/profile.php?id=100011855760219&amp;ref=bookmarks" class="qqweibo" target="_blank"><b>■</b> Facebook</a>
                    
                    <a href="javascript: void(0);" class="wechat">
                        <b>■</b>
                        公众号
                        <span class="popover">
                            <img src="/img/wechat_mp.jpg" width="120" height="120" alt="我的微信订阅号">
                            <i class="arrow"></i>
                        </span>
                    </a>
                </p>
                
            </div>
            <div class="avatar fr">
                <img src="/img/jelon.jpg" alt="avatar" title="Jelon" >
            </div>
        </div>
    </section>
</header>


    <!-- 博客正文 -->
    <div class="container body clearfix">
        <section class="content">
            <div class="content-main widget">
                <!-- 文章分类 -->

    <h3 class="widget-hd">
        <strong>
            
                `微信小程序`分类下的文章
            
        </strong>
    </h3>
    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
        <a class="cat-link" href="/categories/微信小程序/">微信小程序</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="http://yoursite.com/2017/03/24/微信小程序上拉加载和下拉刷新/">
    		微信小程序上拉加载和下拉刷新
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        Jelon 发表于
        <time datetime="2017-03-24T08:55:00.000Z">2017-03-24</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>最近在学习微信小程序,想要实现在获取列表的时候可以上拉刷新和下拉加载,现在用豆瓣的API<br>总结了一下</p>
<h3 id="完整项目地址"><a href="#完整项目地址" class="headerlink" title="完整项目地址"></a>完整项目地址</h3><p><a href="https://github.com/AriaVV/douban.github.io" target="_blank" rel="external"> 点击下载完整项目 </a></p>
<h3 id="wxml结构"><a href="#wxml结构" class="headerlink" title="wxml结构"></a>wxml结构</h3><p><strong> 注意:在这里重要的就是scroll-view标签了 </strong></p>
<p>scroll-view标签必须要有高度</p>
<p>windowHeight 窗口高度</p>
<p>scroll-y 允许纵向滚动</p>
<p>upper-threshold 距顶部/左边多远时（单位px），触发 scrolltoupper 事件</p>
<p>lower-threshold 距底部/右边多远时（单位px），触发 scrolltolower 事件</p>
<p>bindscrolltoupper 滚动到顶部/左边，会触发 scrolltoupper 事件</p>
<p>bindscrolltolower 滚动到底部/右边，会触发 scrolltolower 事件</p>
<p>bindscroll 滚动时触发</p>
<p>.data_more是在加载完所有的数据显示,刚开始设置隐藏</p>
<p>.data_load是在每次下拉时候显示,刚开始设置隐藏</p>
<pre><code>&lt;loading hidden=&quot;{{ !loading }}&quot;&gt;
        拼了命的加载中...
&lt;/loading&gt;

&lt;scroll-view style=&quot;height:{{ windowHeight }}px&quot; scroll-y=&quot;true&quot; upper-threshold=&quot;0px&quot; lower-threshold=&quot;20px&quot; bindscrolltoupper=&quot;upper&quot; bindscrolltolower=&quot;lower&quot; bindscroll=&quot;scroll&quot;&gt;
&lt;view class=&quot;data_pull {{ data_pull }}&quot;&gt;&lt;view&gt;&lt;/view&gt;刷新&lt;/view&gt;
  &lt;view class=&quot;list_view&quot;&gt;
    &lt;block wx:for=&quot;{{ list }}&quot; vx:key=&quot;index&quot;&gt;
      &lt;navigator url=&quot;../item/item?type=in_theaters&amp;name=正在热映&amp;id={{  item.id  }}&quot;&gt;
        &lt;view class=&quot;list_item&quot;&gt;
          &lt;image src=&quot;{{item.images.small}}&quot;&gt;&lt;/image&gt;
          &lt;view class=&quot;list_info&quot;&gt;
            &lt;text class=&quot;title&quot;&gt;{{ item.title }}&lt;/text&gt;
            &lt;text class=&quot;year&quot;&gt;{{ item.original_title}} ({{ item.year }})&lt;/text&gt;
            &lt;text class=&quot;director&quot;&gt;导演：
              &lt;block wx:for=&quot;{{ item.directors }}&quot; vx:key=&quot;index&quot;&gt; {{ item.name }}&lt;/block&gt;
            &lt;/text&gt;
          &lt;/view&gt;
          &lt;view class=&quot;rating&quot;&gt;
            &lt;text class=&quot;score&quot;&gt;{{ item.rating.average }}&lt;/text&gt;
          &lt;/view&gt;
        &lt;/view&gt;
      &lt;/navigator&gt;
    &lt;/block&gt;
  &lt;/view&gt;
  &lt;view class=&quot;data_more {{ data_view }}&quot;&gt;没有更多数据了&lt;/view&gt;
   &lt;view class=&quot;data_load {{ data_load }}&quot;&gt;&lt;view&gt;&lt;/view&gt;正在加载更多数据&lt;/view&gt;
&lt;/scroll-view&gt;
</code></pre><h3 id="wxss样式"><a href="#wxss样式" class="headerlink" title="wxss样式"></a>wxss样式</h3><pre><code>.list_tit{display:block;padding:25rpx;text-align:center;font-size:30rpx;border-bottom: 1rpx solid #ccc;}
.list_view{display:flex;flex:1;flex-direction: column;}
.list_item{display: flex;padding: 20rpx;border-bottom: 1rpx solid #eee;}
.list_item image {height: 200rpx;width: 140rpx;}
.list_info {flex: 1;margin-left:50rpx;color: #777;font-size: 30rpx;}
.list_info text{display:block;margin: 10rpx 0;}
.score {display:inline-block;width: 60rpx;height: 40rpx;font-size: 30rpx;background-color: #c40;color: #fff;border-radius: 10rpx;text-align:center;line-height:40rpx ;}
scroll-view {width: 100%;height: 1000 rpx;}
.data_more,.data_load,.data_pull{display:block;width:100%;margin:40rpx 0;text-align:center;font-size:28rpx;color:#ccc;}
.data_load view,.data_pull view{margin-top:20rpx;vertical-align:middle;display:inline-block;width:70rpx;height:70rpx;background:url(../../images/loading.gif)no-repeat top center;background-size:60%}
.data_load text{background:url(../../images/loading.gif)no-repeat -216rpx -154rpx;}
.data_none{display:none;}
.data_block{display:block;}
</code></pre><h3 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h3><pre><code>var app = getApp()
var start = 0       //豆瓣API的参数
var count = 6       //每次显示的数据条数
var total = 10        //总数据条数,随便给的,因为会动态加载
var apiUrl = &apos;https://api.douban.com/v2/movie/in_theaters&apos;;    // 请求链接
Page({
  data: {
    list: [],                     //根据豆瓣api获取到的数据
    title: &apos;Loading...&apos;,
    loading: true,                //刚开始数据没加载完成时,显示正在加载,提高用户体验
    windowHeight: 0,              //窗口高度
    data_view: &apos;data_none&apos;,       //在用户下拉的时候,如果有数据则隐藏,没有数据了就显示
    data_load: &apos;data_none&apos;,       //在用户下拉的时候,如果有更多数据就显示,没有数据了就隐藏
    data_pull: &apos;data_none&apos;        //在用户上拉的时候,显示2秒
  },
  onLoad(params) {
    const _this = this
    //获取设备讯息
    wx.getSystemInfo({
      success: function (res) {
        _this.setData({ windowHeight: res.windowHeight })
      }
    })
    wx.request({
      url: apiUrl,
      data: { start: start, count: count, total: total },
      header: {
        &apos;Content-Type&apos;: &apos;json&apos;
      },
      success: function (res) {
        console.log(res.data)
        total = res.data.total
        _this.setData({ list: res.data.subjects, title: res.data.title, loading: false, data_load: &apos;data_block&apos;, data_view: &apos;data_none&apos;, data_pull: &apos;data_none&apos; })

      }
    })
  },
//上拉刷新
  upper: function (params) {
    console.log(&apos;滑动到顶部&apos;)
    count = 6
    const _this = this
    wx.request({
      url: apiUrl,
      data: { start: start, count: count, total: total },
      header: {
        &apos;Content-Type&apos;: &apos;json&apos;
      },
      success: function (res) {
        total = res.data.total
        _this.setData({ list: res.data.subjects, title: res.data.title, data_pull: &apos;data_block&apos; })
        setTimeout(function () {
          _this.setData({ list: res.data.subjects, title: res.data.title, data_pull: &apos;data_none&apos; })
        }, 2000)
      }
    })
  },
//下拉加载更多
  lower: function (e) {
    console.log(&apos;滑动到底部&apos;)
    const _this = this
    if (count &lt;= total) {
      count += 6
      wx.request({
        url: apiUrl,
        data: { start: start, count: count, total: total },
        header: {
          &apos;Content-Type&apos;: &apos;json&apos;
        },
        success: function (res) {
          total = res.data.total
          _this.setData({ list: res.data.subjects, title: res.data.title, data_load: &apos;data_block&apos;, data_view: &apos;data_none&apos; })
          // _this.setData({ list: _this.data.list.concat(res.data.subjects) })
        }
      })
    } else if (count &gt; total) {
      count = total
      console.log(total)
      _this.setData({ data_view: &apos;data_block&apos;, data_load: &apos;data_none&apos; })
    }
  },
//滑动过程中
  scroll: function (e) {
    console.log(&apos;滑动过程中&apos;)
  }
})
</code></pre><p>【end】</p>

            
            <p class="more">
                <a href="http://yoursite.com/2017/03/24/微信小程序上拉加载和下拉刷新/">阅读剩下更多</a>
            </p>
        </div>
        <div class="post-thumbnail" data-img="">
            <a href="http://yoursite.com/2017/03/24/微信小程序上拉加载和下拉刷新/" title="微信小程序上拉加载和下拉刷新">
                
                    <img class="thumbnail" src="/img/default.png" data-echo="/img/thumbnail/4.jpg" alt="默认配图" >
                
            </a>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
        <a class="cat-link" href="/categories/微信小程序/">微信小程序</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="http://yoursite.com/2017/03/24/微信小程序页面与页面之间的传参问题/">
    		微信小程序页面与页面之间的传参问题
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        Jelon 发表于
        <time datetime="2017-03-24T08:44:24.000Z">2017-03-24</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h3 id="页面的跳转"><a href="#页面的跳转" class="headerlink" title="页面的跳转"></a>页面的跳转</h3><pre><code>使用navigator标签
&lt;navigator src=&quot;&quot;&gt;&lt;/navigator&gt;
</code></pre><h3 id="页面与页面之间建立关联"><a href="#页面与页面之间建立关联" class="headerlink" title="页面与页面之间建立关联"></a>页面与页面之间建立关联</h3><p>我们在点击navigator的时候,需要确定你点的是什么,这个就是需要参数了</p>
<pre><code>&lt;navigator url=&quot;../item/item?type=in_theaters&amp;name=正在热映&amp;id={{  item.id  }}&quot;&gt;  &lt;/navigator&gt;
</code></pre><p>我们在把另一个页面跟他建立联系的时候,可以使用</p>
<pre><code>在需要跳转到的页面设置js文件
在onLoad中从params中获取到参数,这样navigator标签和这个页面就建立联系了 
Page({
    data: {
        list: [],
        loading: true,
    },
    onLoad (params) {
    const apiUrl = &apos;https://api.douban.com/v2/movie/subject/&apos; + params.id
    const _this = this
    wx.request({
        url: apiUrl,
        data: {},
        header: {
            &apos;Content-Type&apos;: &apos;json&apos;
        },
        success: function (res) {
            _this.setData({ list: res.data,loading: false})
        }
    })
}
})
</code></pre>
            
            <p class="more">
                <a href="http://yoursite.com/2017/03/24/微信小程序页面与页面之间的传参问题/">阅读剩下更多</a>
            </p>
        </div>
        <div class="post-thumbnail" data-img="">
            <a href="http://yoursite.com/2017/03/24/微信小程序页面与页面之间的传参问题/" title="微信小程序页面与页面之间的传参问题">
                
                    <img class="thumbnail" src="/img/default.png" data-echo="/img/thumbnail/4.jpg" alt="默认配图" >
                
            </a>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
        <a class="cat-link" href="/categories/微信小程序/">微信小程序</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="http://yoursite.com/2017/03/14/微信小程序基本配置和使用/">
    		微信小程序开发基本配置和使用
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        Jelon 发表于
        <time datetime="2017-03-14T09:15:56.000Z">2017-03-14</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h3 id="微信小程序的文件"><a href="#微信小程序的文件" class="headerlink" title="微信小程序的文件"></a>微信小程序的文件</h3><p>在微信小程序中,我们把所有的页面都放在一个统一的文件夹下,以单个文件夹存在,每个页面下又分别由三个页面组成,分别是 js、wxml、wxss</p>
<pre><code>js、wxml、wxss 这三个文件就构成了一个完整的页面
</code></pre><h3 id="三个文件的作用"><a href="#三个文件的作用" class="headerlink" title="三个文件的作用"></a>三个文件的作用</h3><p>js ：定义页面的逻辑</p>
<pre><code>调用了一个page方法，是一个全局函数，用来创建页面对象

onLoad方法页面加载时触发
</code></pre><p>wxml ：定义页面的结构 语法是XML语法(Wei Xin Markup Language)</p>
<p>wxss ：定义页面的样式 遵循是css语法(Wei Xin Style Sheet)</p>
<h3 id="index-json的配置"><a href="#index-json的配置" class="headerlink" title="index.json的配置"></a>index.json的配置</h3><p>在页面的json文件主要是为了覆盖app.json中window 配置项的内容</p>
<h3 id="wxml标签"><a href="#wxml标签" class="headerlink" title="wxml标签"></a>wxml标签</h3><pre><code>view相当于html中的div

text标签定义文本

image图片标签

block专门在做一些循环的时候,又不想在循环的时候在外层新加一些标签,block在循环完成后不会显示
</code></pre><h3 id="app-json"><a href="#app-json" class="headerlink" title="app.json"></a>app.json</h3><p>在app.json文件中定义了一个pages的属性,这个属性定义了我们的应用程序可用的所有的页面(所以pages中的页面必须与app.json建立关联)</p>
<pre><code>&quot;pages&quot;:[
    &quot;pages/index/index&quot;,  //代表初始页面
    &quot;pages/logs/logs&quot;
  ]
</code></pre><h3 id="app-js"><a href="#app-js" class="headerlink" title="app.js"></a>app.js</h3><p>有一个全局函数是 App,作用是用来指定生命周期</p>
<pre><code>App({
    onLaunch(){  //在App这个对象中定义了一个onLaunch方法
        console.log(&apos;msg&apos;)    
    },
    foo(){   //定义一个额外方法
        return &apos;bar&apos;
    }
})
</code></pre><p>在页面的js文件中 引入 const app=getApp(),那么在页面中就可以调用app.js中定义的方法了</p>
<pre><code>var app = getApp()

Page({
    onLoad(){
        app.foo();  
    }
})
</code></pre><h3 id="app-wsxx"><a href="#app-wsxx" class="headerlink" title="app.wsxx"></a>app.wsxx</h3><p>整个程序共享的样式(公共样式)</p>
<h3 id="数据加载到页面"><a href="#数据加载到页面" class="headerlink" title="数据加载到页面"></a>数据加载到页面</h3><p>小程序提供了一个属性:page,这个属性可以是一个对象:这个对象中的所有的成员都可以在界面上直接被访问到</p>
<pre><code>在index.js中

Page({
    data:{
        message:&apos;hello world&apos;
    },
    onLoad(){
        //页面加载就把数据呈现在页面
        this.setData({
            message:Date.now() //获取当前时间
        })  
    }
})
</code></pre><p>在页面上显示时</p>
<pre><code>在index.wxml中
&lt;text&gt;{{message}}&lt;text&gt;
</code></pre><h3 id="访问网络资源"><a href="#访问网络资源" class="headerlink" title="访问网络资源"></a>访问网络资源</h3><p><strong> 微信开发者工具在更新到最新版的时候,发现请求时会报错</strong></p>
<pre><code>错误信息:GET https://api.douban.com/v2/movie/in_theaters 400 (Bad Request)          asdebug.js:1 

百度了一下解决方案 : 

 header: {
    // &apos;content-type&apos;: &apos;application/json&apos;
    &apos;Content-Type&apos;: &apos;json&apos;
}
</code></pre><p>微信官方提供了API,不存在跨域的问题</p>
<pre><code>wx.request({
  url: &apos;test.php&apos;, //仅为示例，并非真实的接口地址
  data: {
     x: &apos;&apos; ,
     y: &apos;&apos;
  },
  header: {
      &apos;content-type&apos;: &apos;application/json&apos;
  },
  success: function(res) {
    console.log(res.data)
  }
})
</code></pre><p>把访问外部链接获取的数据放到list当中</p>
<pre><code>Page({
    data:{
        message:&apos;hello world!&apos;,
        list:[]
    },
    onLoad(){
        const _this = this
        //页面加载时候执行
        wx.request({
          url: &apos;https://api.douban.com/v2/movie/in_theaters&apos;,
          data: {},
          header: {
              &apos;Content-Type&apos;:&apos;json&apos;
          },
          success: function(res) {
              console.log(res.data)
            _this.setData({
                list: res.data.subjects
            })
          }
        })
    }
})
</code></pre><p>在页面上显示的时候</p>
<pre><code>&lt;view&gt;
  &lt;view class=&quot;item&quot; wx:for=&quot;{{ list }}&quot;&gt;
    &lt;image src=&quot;{{ item.images.small }}&quot;&gt;&lt;/image&gt;
    &lt;text&gt;{{ item.title }}&lt;/text&gt;
  &lt;/view&gt;
&lt;/view&gt;
</code></pre><h3 id="topBar的配置"><a href="#topBar的配置" class="headerlink" title="topBar的配置"></a>topBar的配置</h3><p>tabBar 是一个数组，只能配置最少2个、最多5个 tab，tab 按数组的顺序排序。</p>
<pre><code>{
  &quot;pages&quot;: [
    &quot;pages/index/index&quot;,
    &quot;pages/logs/index&quot;
  ],
  &quot;window&quot;: {
    &quot;navigationBarTitleText&quot;: &quot;Demo&quot;
  },
  &quot;tabBar&quot;: {
    &quot;list&quot;: [{
      &quot;pagePath&quot;: &quot;pages/index/index&quot;,     //第一个必须是我们的首页
      &quot;text&quot;: &quot;首页&quot;
    }, {
      &quot;pagePath&quot;: &quot;pages/logs/logs&quot;,
      &quot;text&quot;: &quot;日志&quot;
    }]
  },
  &quot;networkTimeout&quot;: {
    &quot;request&quot;: 10000,
    &quot;downloadFile&quot;: 10000
  },
  &quot;debug&quot;: true
}
</code></pre><p>【end】</p>

            
            <p class="more">
                <a href="http://yoursite.com/2017/03/14/微信小程序基本配置和使用/">阅读剩下更多</a>
            </p>
        </div>
        <div class="post-thumbnail" data-img="">
            <a href="http://yoursite.com/2017/03/14/微信小程序基本配置和使用/" title="微信小程序开发基本配置和使用">
                
                    <img class="thumbnail" src="/img/default.png" data-echo="/img/thumbnail/4.jpg" alt="默认配图" >
                
            </a>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
        <a class="cat-link" href="/categories/微信小程序/">微信小程序</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="http://yoursite.com/2017/03/13/微信小程序模板的使用/">
    		微信小程序模板的使用
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        Jelon 发表于
        <time datetime="2017-03-13T09:20:56.000Z">2017-03-13</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我们在应用程序开发的过程当中,很说时候会有一些共用的代码,我们不可能说每次使用的时候,都去复制粘贴一下</p>
<p>这就需要模板来方便我们的开发 </p>
<h3 id="模板的建立"><a href="#模板的建立" class="headerlink" title="模板的建立"></a>模板的建立</h3><p>你需要在Pages文件夹下新建一个名为template的文件夹作为模板的目录</p>
<p>这是第一种方式:</p>
<pre><code>在template文件夹下,新建一个header.wxml文件,文件内容是
&lt;view&gt;这是头部&lt;/view&gt;

然后在你使用到模板的页面下引入&lt;include src=&quot;../template/header&quot;/&gt;
</code></pre><p>第二种方式我们在template文件夹下新建一个footer.wxml文件,文件内容为:</p>
<pre><code>&lt;template name=&quot;footer&quot;&gt;这是底部内容&lt;/template&gt;

使用&lt;import src=&quot;../template/footer&quot;/&gt;方式导入要使用的文件
在这里可能我们会定义了很多的模板,所以在引入时候我们要声明使用的是哪个模板
&lt;template is=&quot;footer&quot;&gt; 这个is属性跟template的name属性一致
</code></pre><p>我们也可以给第二种方式动态设置数据</p>
<pre><code>&lt;template name=&quot;footer&quot;&gt;这是底部内容 {{text}} &lt;/template&gt;

&lt;template is=&quot;footer&quot; data=&quot; {{ text:"动态的数据" }}&quot;&gt; 
</code></pre><p>【end】</p>

            
            <p class="more">
                <a href="http://yoursite.com/2017/03/13/微信小程序模板的使用/">阅读剩下更多</a>
            </p>
        </div>
        <div class="post-thumbnail" data-img="">
            <a href="http://yoursite.com/2017/03/13/微信小程序模板的使用/" title="微信小程序模板的使用">
                
                    <img class="thumbnail" src="/img/default.png" data-echo="/img/thumbnail/3.jpg" alt="默认配图" >
                
            </a>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
        <a class="cat-link" href="/categories/微信小程序/">微信小程序</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="http://yoursite.com/2017/03/13/微信小程序swiper组件/">
    		微信小程序swiper组件
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        Jelon 发表于
        <time datetime="2017-03-13T09:19:56.000Z">2017-03-13</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h3 id="swiper组件"><a href="#swiper组件" class="headerlink" title="swiper组件"></a>swiper组件</h3><p>swiper</p>
<p>滑块视图容器。</p>
<pre><code>属性名                      类型                   默认值                   说明

indicator-dots              Boolean               false                   是否显示面板指示点
indicator-color              Color                   rgba(0, 0, 0, .3)       指示点颜色（这个属性目前暂未启用）
indicator-active-color      Color                   #000000                   当前选中的指示点颜色 （这个属性目前暂未启用）
autoplay                  Boolean               false                   是否自动切换
current                      Number               0                       当前所在页面的 index
interval                  Number               5000                       自动切换时间间隔
duration                  Number               500                       滑动动画时长
circular                  Boolean               false                   是否采用衔接滑动
bindchange                  EventHandle                            current 改变时会触发 change 事件，event.detail = {current: current}
</code></pre><p>swiper-item<br>仅可放置在<swiper>组件中，宽高自动设置为100%。</swiper></p>
<pre><code>示例代码：

&lt;swiper indicator-dots=&quot;{{indicatorDots}}&quot;
  autoplay=&quot;{{autoplay}}&quot; interval=&quot;{{interval}}&quot; duration=&quot;{{duration}}&quot;&gt;
  &lt;block wx:for=&quot;{{imgUrls}}&quot;&gt;
    &lt;swiper-item&gt;
      &lt;image src=&quot;{{item}}&quot; class=&quot;slide-image&quot; width=&quot;355&quot; height=&quot;150&quot;/&gt;
    &lt;/swiper-item&gt;
  &lt;/block&gt;
&lt;/swiper&gt;
&lt;button bindtap=&quot;changeIndicatorDots&quot;&gt; indicator-dots &lt;/button&gt;
&lt;button bindtap=&quot;changeAutoplay&quot;&gt; autoplay &lt;/button&gt;
&lt;slider bindchange=&quot;intervalChange&quot; show-value min=&quot;500&quot; max=&quot;2000&quot;/&gt; interval
&lt;slider bindchange=&quot;durationChange&quot; show-value min=&quot;1000&quot; max=&quot;10000&quot;/&gt; duration
</code></pre><p>示例代码属性解读:</p>
<pre><code>indicator-dots : 轮播图的点盒子,可以直接设置为true
autoplay:是否自动播放,也可以把值设为 true
interval:自动播放的时间间隔,也可以把时间写死,如:8000(单位是毫秒)
duration:每次轮播的速度,可以固定,默认1000,代表1s
</code></pre><p>js中的配置</p>
<pre><code>Page({
  data: {
    imgUrls: [
      &apos;http://img02.tooopen.com/images/20150928/tooopen_sy_143912755726.jpg&apos;,
      &apos;http://img06.tooopen.com/images/20160818/tooopen_sy_175866434296.jpg&apos;,
      &apos;http://img06.tooopen.com/images/20160818/tooopen_sy_175833047715.jpg&apos;
    ],
    indicatorDots: false,    //可以在wxml文件中定义
    autoplay: false,
    interval: 5000,
    duration: 1000
  },
  changeIndicatorDots: function(e) {
    this.setData({
      indicatorDots: !this.data.indicatorDots
    })
  },
  changeAutoplay: function(e) {
    this.setData({
      autoplay: !this.data.autoplay
    })
  },
  intervalChange: function(e) {
    this.setData({
      interval: e.detail.value
    })
  },
  durationChange: function(e) {
    this.setData({
      duration: e.detail.value
    })
  }
})
</code></pre><p>【end】</p>

            
            <p class="more">
                <a href="http://yoursite.com/2017/03/13/微信小程序swiper组件/">阅读剩下更多</a>
            </p>
        </div>
        <div class="post-thumbnail" data-img="">
            <a href="http://yoursite.com/2017/03/13/微信小程序swiper组件/" title="微信小程序swiper组件">
                
                    <img class="thumbnail" src="/img/default.png" data-echo="/img/thumbnail/3.jpg" alt="默认配图" >
                
            </a>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
        <a class="cat-link" href="/categories/微信小程序/">微信小程序</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="http://yoursite.com/2017/03/13/微信小程序loading组件/">
    		微信小程序loading组件
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        Jelon 发表于
        <time datetime="2017-03-13T09:18:56.000Z">2017-03-13</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h3 id="loading组件"><a href="#loading组件" class="headerlink" title="loading组件"></a>loading组件</h3><p>wxml代码</p>
<pre><code>&lt;view class=&quot;container&quot;&gt;
  &lt;loading hidden=&quot;{{ !loading }}&quot;&gt;
    加载中...
  &lt;/loading&gt;

&lt;view class=&quot;board&quot;&gt;
    &lt;navigator url=&quot;../list/list?type=in_theaters&amp;name=正在热映&quot; hover-class=&quot;none&quot;&gt;
      &lt;view class=&quot;board-item&quot;&gt;
        &lt;text&gt;正在热映&lt;/text&gt;
      &lt;/view&gt;
    &lt;/navigator&gt;
  &lt;/view&gt;
&lt;/view&gt;
</code></pre><p>js代码</p>
<pre><code>Pages({
    data:{
        loading:true
        title:loading...
    },
    onLoad(params){
        const apiUrl = &apos;https://api.douban.com/v2/movie/&apos;+ params.type
        const _this = this
        //页面加载时候执行
        wx.request({
          url: &apos;https://api.douban.com/v2/movie/in_theaters&apos;,
          data: {},
          header: {
              &apos;Content-Type&apos;:&apos;json&apos;
          },
          success: function(res) {
              console.log(res.data)
            _this.setData({
                list: res.data.subjects,
                title:res.data.title,
                loading:false          //重要的
            })
          }
        })
    }
})
</code></pre><p>【end】</p>

            
            <p class="more">
                <a href="http://yoursite.com/2017/03/13/微信小程序loading组件/">阅读剩下更多</a>
            </p>
        </div>
        <div class="post-thumbnail" data-img="">
            <a href="http://yoursite.com/2017/03/13/微信小程序loading组件/" title="微信小程序loading组件">
                
                    <img class="thumbnail" src="/img/default.png" data-echo="/img/thumbnail/3.jpg" alt="默认配图" >
                
            </a>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
        <a class="cat-link" href="/categories/微信小程序/">微信小程序</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="http://yoursite.com/2017/03/13/微信小程序小技巧/">
    		微信小程序小技巧
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        Jelon 发表于
        <time datetime="2017-03-13T09:16:56.000Z">2017-03-13</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h3 id="对项目进行配置"><a href="#对项目进行配置" class="headerlink" title="对项目进行配置"></a>对项目进行配置</h3><p>在pages/下创建所需要的页面–js文件、wxml文件、wxss文件，并与app.json建立关联</p>
<h3 id="点击高亮小技巧"><a href="#点击高亮小技巧" class="headerlink" title="点击高亮小技巧"></a>点击高亮小技巧</h3><p>如果需要点击时候高亮,可以给元素加上coursor:pointer;</p>
<h3 id="页面跳转之间的传值问题"><a href="#页面跳转之间的传值问题" class="headerlink" title="页面跳转之间的传值问题"></a>页面跳转之间的传值问题</h3><p>页面与页面之间跳转(官方文档-&gt;组件-&gt;navigator标签)</p>
<pre><code>navigator元素在点击的时候自动有高亮 

去掉原有的高亮样式 hover-class=&quot;none&quot;

在url中写页面链接时,不需要写扩展名: ../pages/list/list
</code></pre><p>在点击的时候你要标注一下点击的是谁,通过 ?参数 来确定</p>
<pre><code>&lt;view class=&quot;btn-area&quot;&gt;
  &lt;navigator url=&quot;navigate?title=navigate&quot; hover-class=&quot;navigator-hover&quot;&gt;跳转到新页面&lt;/navigator&gt;
  &lt;navigator url=&quot;redirect?title=redirect&amp;type=insert&quot; open-type=&quot;redirect&quot; hover-class=&quot;other-navigator-hover&quot;&gt;在当前页打开&lt;/navigator&gt;
&lt;/view&gt;
</code></pre><p>那么这个标识在另一个页面怎么拿到呢</p>
<pre><code>跳转到的页面通过onLoad的参数去取
Page({
    onLoad(params){
        console.log(params)
    }
})

这个params参数跟navigator中的?后面的参数相对应,这个参数可以使一个或多个
</code></pre><p>【end】</p>

            
            <p class="more">
                <a href="http://yoursite.com/2017/03/13/微信小程序小技巧/">阅读剩下更多</a>
            </p>
        </div>
        <div class="post-thumbnail" data-img="">
            <a href="http://yoursite.com/2017/03/13/微信小程序小技巧/" title="微信小程序小技巧">
                
                    <img class="thumbnail" src="/img/default.png" data-echo="/img/thumbnail/3.jpg" alt="默认配图" >
                
            </a>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
        <a class="cat-link" href="/categories/微信小程序/">微信小程序</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="http://yoursite.com/2017/03/13/微信小程序开发准备工作及项目构建/">
    		微信小程序开发准备工作
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        Jelon 发表于
        <time datetime="2017-03-13T09:15:56.000Z">2017-03-13</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
    
        <a href="/tags/准备工作/" title="准备工作">准备工作</a>
    

        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h3 id="微信小程序最基本的知识储备"><a href="#微信小程序最基本的知识储备" class="headerlink" title="微信小程序最基本的知识储备"></a>微信小程序最基本的知识储备</h3><pre><code>HTML + Css + Javascript (最基础)
</code></pre><h3 id="开发工具下载"><a href="#开发工具下载" class="headerlink" title="开发工具下载"></a>开发工具下载</h3><pre><code>小程序官方提供了微信web开发工具的下载,直接下载安装就可以了
</code></pre><p>   下载地址: <a herf="https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/download.html" target="_blank">点击下载</a></p>
<h3 id="首次登陆"><a href="#首次登陆" class="headerlink" title="首次登陆"></a>首次登陆</h3><pre><code>开发者工具安装完成后,打开进行扫码登陆
</code></pre><p><img src="/img/articleImg/webC01.png"></p>
<pre><code>微信扫码进入到登陆页,选择添加项目
</code></pre><p><img src="/img/articleImg/webC02.png"></p>
<pre><code>根据提示填写信息,完成项目构建
</code></pre><p><img src="/img/articleImg/webC03.png"></p>
<pre><code>进入到项目
</code></pre><p><img src="/img/articleImg/webC04.png"></p>
<p>【end】</p>

            
            <p class="more">
                <a href="http://yoursite.com/2017/03/13/微信小程序开发准备工作及项目构建/">阅读剩下更多</a>
            </p>
        </div>
        <div class="post-thumbnail" data-img="">
            <a href="http://yoursite.com/2017/03/13/微信小程序开发准备工作及项目构建/" title="微信小程序开发准备工作">
                
                    <img class="thumbnail" src="/img/default.png" data-echo="/img/thumbnail/3.jpg" alt="默认配图" >
                
            </a>
        </div>
    </div>
</article>

    
        <!-- 文章 -->
<article class="post">
    <header>
        <!-- 标签这有且只能显示一个 -->
        
        <a class="cat-link" href="/categories/微信小程序/">微信小程序</a>
        
        <!-- 文章标题 -->
        
    <h3 class="post-title">
    	<a href="http://yoursite.com/2017/03/13/微信小程序的事件/">
    		微信小程序事件
    	</a>
    </h3>

    </header>
    <p class="post-meta">
        Jelon 发表于
        <time datetime="2017-03-13T09:12:58.000Z">2017-03-13</time>
        &nbsp;&nbsp;
        <span class="post-tags">
            标签：
            
        </span>
    </p>

    <div class="post-content">
        <div class="post-excerpt">
            
                <h2 id="微信小程序事件"><a href="#微信小程序事件" class="headerlink" title="微信小程序事件"></a>微信小程序事件</h2><h3 id="什么是事件"><a href="#什么是事件" class="headerlink" title="什么是事件"></a>什么是事件</h3><pre><code>事件是用户的一种行为
</code></pre><h3 id="事件的分类"><a href="#事件的分类" class="headerlink" title="事件的分类"></a>事件的分类</h3><p>事件分为冒泡事件和非冒泡事件：</p>
<p>冒泡事件：当一个组件上的事件被触发后，该事件会向父节点传递。<br>非冒泡事件：当一个组件上的事件被触发后，该事件不会向父节点传递。</p>
<pre><code>   类型                      触发条件
   touchstart              手指触摸动作开始
touchmove              手指触摸后移动
touchcancel              手指触摸动作被打断，如来电提醒，弹窗
touchend              手指触摸动作结束
tap                      手指触摸后马上离开
longtap                  手指触摸后，超过350ms再离开
</code></pre><p>非冒泡事件：除上表之外的其他组件自定义事件如无特殊申明都是非冒泡事件，如<form>的submit事件，input标签的input事件，<scroll-view>的scroll事件，(详见各个组件)</scroll-view></form></p>
<h3 id="bind和catch的分别"><a href="#bind和catch的分别" class="headerlink" title="bind和catch的分别"></a>bind和catch的分别</h3><p>catch绑定的事件会阻止冒泡</p>
<p>bind绑定事件会进行冒泡</p>
<h3 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h3><p>currentTarget 绑定的这个组件</p>
<p>target 触发事件源控件</p>
<p>dataset 方便给view添加上我们自己的自定义属性  data-title=”hello”</p>
<p>【end】</p>

            
            <p class="more">
                <a href="http://yoursite.com/2017/03/13/微信小程序的事件/">阅读剩下更多</a>
            </p>
        </div>
        <div class="post-thumbnail" data-img="">
            <a href="http://yoursite.com/2017/03/13/微信小程序的事件/" title="微信小程序事件">
                
                    <img class="thumbnail" src="/img/default.png" data-echo="/img/thumbnail/3.jpg" alt="默认配图" >
                
            </a>
        </div>
    </div>
</article>

    

    
    <nav class="page-navigator">
        <span class="page-number current">1</span>
    </nav>
    


            </div>

        </section>
        <!-- 侧栏部分 -->
<aside class="sidebar">
    <section class="widget">
        <h3 class="widget-hd"><strong>文章分类</strong></h3>
        <!-- 文章分类 -->
<ul class="widget-bd">
    
    <li>
        <a href="/categories/Flex布局/">Flex布局</a>
        <span class="badge">(2)</span>
    </li>
    
    <li>
        <a href="/categories/Vue/">Vue</a>
        <span class="badge">(11)</span>
    </li>
    
    <li>
        <a href="/categories/jQuery插件/">jQuery插件</a>
        <span class="badge">(4)</span>
    </li>
    
    <li>
        <a href="/categories/hexo/">hexo</a>
        <span class="badge">(2)</span>
    </li>
    
    <li>
        <a href="/categories/jQuery/">jQuery</a>
        <span class="badge">(2)</span>
    </li>
    
    <li>
        <a href="/categories/JavaScript/">JavaScript</a>
        <span class="badge">(2)</span>
    </li>
    
    <li>
        <a href="/categories/微信小程序/">微信小程序</a>
        <span class="badge">(9)</span>
    </li>
    
    <li>
        <a href="/categories/iframe/">iframe</a>
        <span class="badge">(1)</span>
    </li>
    
</ul>
    </section>

    
    <section class="widget">
        <h3 class="widget-hd"><strong>热门标签</strong></h3>
        <!-- 文章标签 -->
<div class="widget-bd tag-wrap">
  
    <a class="tag-item" href="/tags/flex布局/" title="flex布局">flex布局 (2)</a>
  
    <a class="tag-item" href="/tags/开发环境/" title="开发环境">开发环境 (1)</a>
  
    <a class="tag-item" href="/tags/头像设置/" title="头像设置">头像设置 (1)</a>
  
    <a class="tag-item" href="/tags/hexo环境、部署、基本操作/" title="hexo环境、部署、基本操作">hexo环境、部署、基本操作 (1)</a>
  
    <a class="tag-item" href="/tags/首屏动画-点击箭头调到下一屏-fullPage/" title="首屏动画 点击箭头调到下一屏 fullPage">首屏动画 点击箭头调到下一屏 fullPage (1)</a>
  
    <a class="tag-item" href="/tags/复制数据/" title="复制数据">复制数据 (1)</a>
  
    <a class="tag-item" href="/tags/JavaScript/" title="JavaScript">JavaScript (2)</a>
  
    <a class="tag-item" href="/tags/iframe小结/" title="iframe小结">iframe小结 (1)</a>
  
    <a class="tag-item" href="/tags/准备工作/" title="准备工作">准备工作 (1)</a>
  
</div>
    </section>
    

    

    
    <!-- 友情链接 -->
    <section class="widget">
        <h3 class="widget-hd"><strong>友情链接</strong></h3>
        <!-- 文章分类 -->
<ul class="widget-bd">
    
        <li>
            <a href="http://blog.sina.com.cn/u/1825875765" target="_blank" title="网络安全博客">Haoren博客</a>
        </li>
    
        <li>
            <a href="http://blog.csdn.net/yeweiouyang" target="_blank" title="技术博客">Maxwell博客</a>
        </li>
    
        <li>
            <a href="http://xuanzh.cc/" target="_blank" title="技术博客">朱旋个人博客</a>
        </li>
    
</ul>
    </section>
    
</aside>
<!-- / 侧栏部分 -->
    </div>

    <!-- 博客底部 -->
    <footer class="footer">
    &copy;
    
        2016-2017
    

    <a href="/">Jelon Loves You</a>
</footer>
<div class="back-to-top" id="JELON__backToTop" title="返回顶部">返回顶部</div>

    <!--博客js脚本 -->
    <!-- 这里放网站js脚本 -->
<script src="/js/main.js"></script>
</body>
</html>